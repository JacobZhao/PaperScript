\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage[ruled]{algorithm2e}

\newlength\mylen
\newcommand\myinput[1]{%
  \settowidth\mylen{\KwIn{}}%
  \setlength\hangindent{\mylen}%
  \hspace*{\mylen}#1\\}


\begin{document}
\begin{algorithm}[H]
\caption{Feasibility Check}%算法名字
\LinesNumbered %要求显示行号
\SetKwInOut{Input}{Input}  
\Input{\textit{$M_{(i,p)}$}: The number of modules in panel \textit{p} at current \textit{i};\\
  \textit{P}: Number of panels; \textit{S}: Number of strings;\\
  \textit{$Q_M$}: The minimum number of modules for each string;}
\SetKwInOut{Output}{Output}
\Output{Feasibility Result;\\
        Conf: Configuration Result;}
\For{k = 1 to S-1, \textup{\textbf{each}} \textup{panel} p}{
  Loss[\textit{p,k}] = $M_{(i_{S-k},p)}$ -- $M_{(i_{S-k+1},p)}$}\\
$P^*$ = $P$;\\
\For{j = S to 1}
    {n = 1;\\
    \If{Conf \textup{[j]} $\neq$ \{ \}}
        {\{p\} = \{p\} - \{Conf\};\\
        $P^*$ = $P^*$ - \# of \{Conf\}}\\
        (${p_{\alpha_1}}$, ${p_{\alpha_2}}$ ,..., ${p_{\alpha_{P^*}}}$) sorted by \textup{Loss[$p_a,k$] \leq Loss[$p_b,k^*$]}, if and only if $a < b$ \textup{\textbf{or}} (a = b \textbf{and} $k\leq k^*$) \\
        \tcc{Sort Panels in lexicographical permutation by \textbf{\textit{Loss}}}
    \While{ \textup{SUM = }$\sum_{k = 1}^{n} M_{(j,\alpha_k)}$$<$ $Q_M$}
        {\If{n == $P^*$}
            {\textup{\textbf{return}}: Feasibility = NO}
        n \textup{++};\\}
    TempConf = \{ $p_{\alpha_1}$, $p_{\alpha_2}$, $p_{\alpha_3}$,..., $p_{\alpha_n}$ \};\\
    \For{m = 1 to n}
        {\If{$M_{(j,\alpha_m)}$ == 0}
        {TempConf = TempConf - \{$p_{\alpha_m}$\};}
        }
    \eIf{\textup{SUM} == $Q_M$ \textup{or} j == 1}
        {Conf [j] = TempConf}
        {\textup{\textbf{Do}} Panel Swap}
    }
\textup{\textbf{return}}: Feasibility = YES
\end{algorithm}

\begin{algorithm}
\caption{Panel Swap}
\LinesNumbered
\KwIn{$M_{(j, \alpha)}$, $Q_M$, SUM}
\KwOut{Conf}
Over = SUM - $Q_M$ \;
\For{x = 1 to n}
    {\If{$M_{(j,\alpha_x)}$ == Over}
    {TempConf = TempConf - \{$p_{\alpha_x}$\}\\
    Conf [j] = TempConf\\}
    }
\For{}{}
    
\eIf{$M_{({p^*_y}, j)}$ == Over, \textup{\textbf{for each}} \textup{Panel} y in $p^*$}{
  release Panel ${p^*_y}$ in $p^*$\;
  Conf = $M_{(p^*, j)}$ \;}
    {
  \For{\textup{\textbf{each} panel} y, y in $p^*$}
      {\If{$\sum$ $M_{({p^*_y}, j)}$ == 3 \textbf{\textup{and}} $M_{({p^*_y}, j)}$ == 1}
        {Swap Panel ${p_x}^*$ and Panel $p^*_y$, \\$M_{({p_x}^*, j)}$ == 3, x $>$ y}
        \If{$\sum$ $M_{({p^*_y},j)}$ == 3 \textup{\textbf{and}} $M_{({p^*_{y1}}, j)}$ == 1, $M_{({p^*_{y2}}, j)}$ == 2 }
           {Swap Panel ${p^*_x}$ and [ Panel $p^*_{y1}$, $p^*_{y2}$ ], \\$M_{({p_x}^*, j)}$ == 3, x$>$y1$>$y2}
           \If{$\sum$ $M_{({p^*_y},j)}$ == 2 \textip{\textbf{and}} $M_{({p^*_y}, j)}$ == 1}
              {Swap Panel ${p^*_x}$ and Panel $p^*_y$,\\$M_{({p^*_x}, j)}$ == 2, x $>$ y}
      }
    Conf = $M_{(p^*, j)}$}
\end{algorithm}

\end{document}
